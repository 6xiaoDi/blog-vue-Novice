<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>

    let Vue = {};

    class VueComponent {
        constructor(options) {
            this._opts = options;

            this._data = this._opts.data;
        }
    }

    // component 工厂函数，对new的行为进行了包装
    Vue.component = function(name, options) {
        return function() {
            return new VueComponent({
                name,
                ...options,
                data: options.data()  // options.data()函数返回的对象赋值给data，成为一个新对象
            });
        }
    };


    let newComponent1 = Vue.component('new-component1', {
        data() {
            return {
                a: 1
            }
        }
    });

    let new1 = newComponent1();
    let new2 = newComponent1();

    console.log(new1, new2);

    new1._data.a = 100;

    console.log(new1, new2);
</script>

</body>
</html>